<ng-template #defaultHeaderTemplate let-item="item" let-opened="open">
    <div style="margin: 30px;">
        {{item.title}}
        {{opened}}
    </div>
</ng-template>

<ng-template #defaultContentTemplate let-item="item" let-opened="open">
    <div style="margin: 60px;">
        {{item.content}}
        {{opened}}
    </div>
</ng-template>


<div class="fhi-accordion">
    <ngb-accordion #a="ngbAccordion" [closeOthers]="true" (panelChange)="panelChange($event)">
        <ngb-panel *ngFor="let item of items" [id]="identifyItem(item)" cardClass="fhi-accordion__panel">
            <ng-template ngbPanelHeader let-opened="opened">
                <div class="fhi-accordion__panel__header">
                    <button ngbPanelToggle class="fhi-accordion__panel__toggle">
                        <fa-icon [icon]="faAngleDown" class="fhi-accordion__panel__toggle-icon" [class.fhi-accordion__panel__toggle-icon--open]="opened"></fa-icon>
                    </button>
                    <ng-container *ngTemplateOutlet="headerTemplate || defaultHeaderTemplate, context: {item: item, opened: opened }"> </ng-container>
                </div>
            </ng-template>
            <ng-template ngbPanelContent>
                <div class="fhi-accordion__panel__content">
                    <ng-container *ngTemplateOutlet="contentTemplate || defaultContentTemplate, context: {item: item }" class="fhi-accordion__panel-body"> </ng-container>
                </div>
            </ng-template>
        </ngb-panel>
    </ngb-accordion>
  </div>